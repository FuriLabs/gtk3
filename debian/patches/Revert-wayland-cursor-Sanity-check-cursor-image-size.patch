From: Luca Bacci <luca.bacci982@gmail.com>
Date: Fri, 4 Nov 2022 10:58:37 +0100
Subject: Revert "wayland/cursor: Sanity check cursor image size"

This reverts commit da4066774b926880631af099469d308714b5606c.

Origin: upstream, 3.24.35, commit:4432a037429d8f7d272c58747967d82f3bd563b9
---
 gdk/wayland/gdkcursor-wayland.c | 21 +++++----------------
 1 file changed, 5 insertions(+), 16 deletions(-)

diff --git a/gdk/wayland/gdkcursor-wayland.c b/gdk/wayland/gdkcursor-wayland.c
index c3e9728..1df5a02 100644
--- a/gdk/wayland/gdkcursor-wayland.c
+++ b/gdk/wayland/gdkcursor-wayland.c
@@ -223,7 +223,6 @@ _gdk_wayland_cursor_get_buffer (GdkCursor *cursor,
   if (wayland_cursor->wl_cursor)
     {
       struct wl_cursor_image *image;
-      int cursor_scale;
 
       if (image_index >= wayland_cursor->wl_cursor->image_count)
         {
@@ -235,22 +234,12 @@ _gdk_wayland_cursor_get_buffer (GdkCursor *cursor,
 
       image = wayland_cursor->wl_cursor->images[image_index];
 
-      cursor_scale = wayland_cursor->scale;
-      if ((image->width % cursor_scale != 0) ||
-          (image->height % cursor_scale != 0))
-        {
-          g_warning (G_STRLOC " cursor image size (%dx%d) not an integer"
-                     "multiple of scale (%d)", image->width, image->height,
-                     cursor_scale);
-          cursor_scale = 1;
-        }
-
-      *hotspot_x = image->hotspot_x / cursor_scale;
-      *hotspot_y = image->hotspot_y / cursor_scale;
+      *hotspot_x = image->hotspot_x / wayland_cursor->scale;
+      *hotspot_y = image->hotspot_y / wayland_cursor->scale;
 
-      *w = image->width / cursor_scale;
-      *h = image->height / cursor_scale;
-      *scale = cursor_scale;
+      *w = image->width / wayland_cursor->scale;
+      *h = image->height / wayland_cursor->scale;
+      *scale = wayland_cursor->scale;
 
       return wl_cursor_image_get_buffer (image);
     }
